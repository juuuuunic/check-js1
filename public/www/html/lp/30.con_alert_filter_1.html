<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
	<meta content="IE=edge" http-equiv="X-UA-Compatible">
	<meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1.0,width=device-width,height=device-height" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="copyright"   content="copyrights NICE 000" />
    <meta name="author"      content="NICE 000" />
    <title>30.con_alert_filter_1</title>

    <link rel="stylesheet" type="text/css" href="../../css/lib/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="../../css/lib/picker.min.css">
    <link rel="stylesheet" type="text/css" href="../../css/common.css">
    <link rel="stylesheet" type="text/css" href="../../css/layout.css">

    <script type="text/javascript" src="../../js/lib/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="../../js/lib/jquery-ui.js"></script>
    <script type="text/javascript" src="../../js/lib/picker.min.js"></script>
    <script type="text/javascript" src="../../js/common.js"></script>
    <script type="text/javascript">
         $(document).ready(function() {
            dateDefault();
            dateInput(30,0); //dateForm default값

            // 날짜 직접 선택시 옵션 탭 해제
            $("input[type='text'].js-date-picker").change(function(){ // 날짜에 변화가 있다면,
                $('.tab_calendar > div').removeClass('active')
            });

        });

    </script>

    <script type="text/javascript">

        // 날짜 선택기
        var date = new Date();// 오늘 날짜, 시간 가져오기
        function dateDefault() {
            
            new Picker(document.querySelector('.yearForm'), {
                format: 'YYYY',
                text: {
                    cancel: '취소',
                    confirm: '확인'
                }
            });

            new Picker(document.querySelector('.monthForm'), {
                format: 'MM',
                text: {
                    cancel: '취소',
                    confirm: '확인'
                }
            });

            new Picker(document.querySelector('.dayForm'), {
                format: 'DD',
                text: {
                    cancel: '취소',
                    confirm: '확인'
                }
            });

            new Picker(document.querySelector('.yearTo'), {
                format: 'YYYY',
                text: {
                    cancel: '취소',
                    confirm: '확인'
                }
            });

            new Picker(document.querySelector('.monthTo'), {
                format: 'MM',
                text: {
                    cancel: '취소',
                    confirm: '확인'
                }
            });

            new Picker(document.querySelector('.dayTo'), {
                format: 'DD',
                text: {
                    cancel: '취소',
                    confirm: '확인'
                }
            });

        };

        // 날짜 옵션 
        function dateInput(n){
            var start = new Date(Date.parse(date) - n * 1000 * 60 * 60 * 24);
            var today = date;
            var yyyy = start.getFullYear(); // 연도 모두 가져오기
            var mm = start.getMonth()+1; // 월 가져오기(0부터 시작이기 때문에 +1)
            var dd = start.getDay(); // 일자 가져오기
            
            mm = mm >=10 ? mm:'0'+mm
            dd = dd >=10 ? dd:'0'+dd
            
            var t_yyyy = today.getFullYear(); // 오늘년도
            var t_mm = today.getMonth()+1; // 오늘월
            var t_dd = today.getMonth()+1; // 오늘일자
            
            t_mm = t_mm >=10 ? t_mm:'0'+t_mm
            t_dd = t_dd >=10 ? t_dd:'0'+t_dd
            
            document.querySelector('.yearForm').value = '';
            document.querySelector('.monthForm').value = '';
            document.querySelector('.dayForm').value = '';
            document.querySelector('.yearTo').value = '';
            document.querySelector('.monthTo').value = '';
            document.querySelector('.dayTo').value = '';

            document.querySelector('.yearForm').value = yyyy;
            document.querySelector('.monthForm').value = mm;
            document.querySelector('.dayForm').value = dd;
            document.querySelector('.yearTo').value = t_yyyy;
            document.querySelector('.monthTo').value = t_mm;
            document.querySelector('.dayTo').value = t_dd;
        } 

    </script>

    <style>
        .grid1 {margin-bottom: 50px !important;}
    </style>
   
</head>
<body>
    <div class="lp_content">
        <!-- header -->
        <header>
            <div class="inner">                
                <!-- 뒤로가기/닫기 -->         
                <a class="btnClose" href="javascript:history.back();"></a>
                <!-- end: 뒤로가기/닫기 -->  

                <h1 class="HeadTitleName tit_black">필터</h1>
                
                <div class="toolbar clearfix">
                    <!-- qmark -->
                    <a class="btnQmark_bk"></a>
                    <!-- end: qmark -->
                </div>
            </div>
        </header>
        <!-- end: header -->

        <!-- section -->
        <section>
            <div class="brick-vowel">
                <!-- grid: 현장명 -->
                <div class="grid1">
                    <h3 class="title">현장명</h3>
                    <ul class="border_b">
                        <li class="tab_option clearfix">
                            <div class="active allPlace">전체 현장</div>
                            <div>특정 현장</div>
                        </li>
                        <li class="autocomplete">                                
                            <!-- 자동완성 -->
                            <li class="autocomplete" onclick="location.href='./10.con_filter_place.html'"> 
                                <input id="autoPlace" class="autoBar" type="text" name="place" placeholder="현장을 선택해 주세요.">
                            </form>
                            <div class="autoClose"></div>
                            <!-- end: 자동완성 -->
                        </li>
                    </ul>
                </div>
                <!-- end: 현장명 -->

                <!-- grid: 기간 -->
                <div class="grid1">
                    <h3 class="title">기간</h3>
                    <ul class="border_b">
                        <li class="tab_option tab_calendar clearfix">
                            <div class="active" onclick="dateInput(30,0)">전체</div>
                            <div onclick="dateInput(90,0)">최근 3개월</div>
                            <div onclick="dateInput(365,0)">최근 1년</div>
                        </li>
                        <li class="clearfix date-picker date-picker02">
                            <div>
                                <input type="text" class="js-date-picker yearForm">
                                <input type="text" class="js-date-picker monthForm">
                                <input type="text" class="js-date-picker dayForm">
                            </div>
                            <div>~</div>
                            <div>
                                <input type="text" class="js-date-picker yearTo">
                                <input type="text" class="js-date-picker monthTo">
                                <input type="text" class="js-date-picker dayTo">
                            </div>
                        </li>
                    </ul>
                </div>
                <!-- end: 기간 -->
            </div>
        </section>
        <!-- end: section -->
    </div>
        
    <input type="button" id="btnSel" class="btnApply setPosition" value="적용">
    
</body>
</html>