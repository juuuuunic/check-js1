<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>else01</title>
    <link rel="stylesheet" type="text/css" href="../css/reset.css" />
    <script src="../js/libs/jquery-1.11.1.min.js" />
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
            $(".comm_lock").click(function(e) {
                lockChk_02();
            });
        });

        function lockChk_01() {
            var lockChk = $(".comm_lock");
            if(lockChk.hasClass('lock')) {
                lockChk.removeClass('lock');
                lockChk.parents('.commnt_text_box').removeClass('lock');
                lockChk.parents('.commnt_user_cont').removeClass('lock');
            } else {
                var lockconfirm = confirm("비밀글");
                if(lockconfirm == true) {
                    lockChk.addClass('lock');
                    lockChk.parents('.commnt_text_box').addClass('lock');
                }
            }
        };

        function lockChk_02() {
            var lockChk = $(".comm_lock");
            var lockconfirm = confirm("비밀글");
            if(lockconfirm) {
                lockChk.addClass('lock');
                lockChk.parents('.commnt_text_box').addClass('lock');
                lockChk.off("click");
            } else {
                lockChk.removeClass('lock');
                lockChk.parents('.commnt_text_box').removeClass('lock');
                lockChk.parents('.commnt_user_cont').removeClass('lock');
            }
        };


    </script>
</head>

<style>
    .comm_lock {display: inline-block; border: 2px solid #f30; padding: 4px 10px;}
</style>

<body>
    <div class="wrap">
        <input type="button" id="btn1" value="한번만1" onclick="javascript:confirm('한번만 나옴1'); this.onclick=null;"/>

        
        <div class="commnt_text_box">
            hello!
            <div class="comm_lock">버튼</div>
        </div>
        <p class="commnt_user_cont">hi!</p>
    </div>
</body>
</html>
